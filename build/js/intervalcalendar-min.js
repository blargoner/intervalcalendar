(function(){function A(C,B){this._iState=0;B=B||{};B.multi_select=true;A.superclass.constructor.call(this,C,B);this.beforeSelectEvent.subscribe(this._intervalOnBeforeSelect,this,true);this.selectEvent.subscribe(this._intervalOnSelect,this,true);this.beforeDeselectEvent.subscribe(this._intervalOnBeforeDeselect,this,true);this.deselectEvent.subscribe(this._intervalOnDeselect,this,true)}A._DEFAULT_CONFIG=YAHOO.widget.CalendarGroup._DEFAULT_CONFIG;YAHOO.lang.extend(A,YAHOO.widget.CalendarGroup,{_dateString:function(D){var B=[];B[this.cfg.getProperty(A._DEFAULT_CONFIG.MDY_MONTH_POSITION.key)-1]=(D.getMonth()+1);B[this.cfg.getProperty(A._DEFAULT_CONFIG.MDY_DAY_POSITION.key)-1]=D.getDate();B[this.cfg.getProperty(A._DEFAULT_CONFIG.MDY_YEAR_POSITION.key)-1]=D.getFullYear();var C=this.cfg.getProperty(A._DEFAULT_CONFIG.DATE_FIELD_DELIMITER.key);return B.join(C)},_dateIntervalString:function(B,C){var D=this.cfg.getProperty(A._DEFAULT_CONFIG.DATE_RANGE_DELIMITER.key);return(this._dateString(B)+D+this._dateString(C))},getInterval:function(){var D=this.getSelectedDates();if(D.length>0){var B=D[0];var C=D[D.length-1];return[B,C]}else{return[]}},setInterval:function(F,E){var B=(F<=E);var C=B?F:E;var D=B?E:F;this.cfg.setProperty("selected",this._dateIntervalString(C,D),false);this._iState=2},resetInterval:function(){this.cfg.setProperty("selected",[],false);this._iState=0},_intervalOnBeforeSelect:function(C,B,D){this._iState=(this._iState+1)%3;if(this._iState==0){this.deselectAll();this._iState++}},_intervalOnSelect:function(E,C,G){var F=this.getSelectedDates();if(F.length>1){var B=F[0];var D=F[F.length-1];this.cfg.setProperty("selected",this._dateIntervalString(B,D),false)}this.render()},_intervalOnBeforeDeselect:function(C,B,D){if(this._iState!=0){return false}},_intervalOnDeselect:function(D,B,G){if(this._iState!=0){this._iState=0;this.deselectAll();var F=B[0][0];var C=YAHOO.widget.DateMath.getDate(F[0],F[1]-1,F[2]);var E=this.getCalendarPage(C);if(E){E.beforeSelectEvent.fire();this.cfg.setProperty("selected",this._dateString(C),false);E.selectEvent.fire([F])}return false}}});YAHOO.namespace("BLARGON.widget");YAHOO.BLARGON.widget.IntervalCalendar=A})();